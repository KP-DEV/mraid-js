{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "node_modules/events/events.js",
    "D:\\dev\\repos\\mraid-js\\src\\controller\\close-indicator.coffee",
    "D:\\dev\\repos\\mraid-js\\src\\controller\\index.coffee"
  ],
  "names": [],
  "mappings": "AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n",
    "EventEmitter = require('events').EventEmitter\n\nCLOSE_IMAGE = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABiElEQVRYR8WX7VHDMAyG304AG5QNaCegTMIIrMII3QS6AWzQEcoG3NuLco5jWR/OHf7ZNH4e27Kk7PDPY6fwzwCeAbwCuA06HgB8Ari25msJEP42Qb8HJQT+qM1XC5RwWXhWooY35ysFWvCshAZfzScCHwDejbP27oQFF8wXj1cEGCB7R7BZEl44UT8ADiLAF2n0MCARhZ94w8oYGJGIwH+58ulaor4FGYmn6Z7LVettIuFcOY/yPlp5ICpBgRRcE+DvEQlH2GC18t4OyLOtJFR4bwe2kujCPQIjx2HCvQIZCRc8KsCS6ol2zmtlzDlwtX6gjOxIkinfc0lYAlm4u4r2BEbhLglNYCu4KaGlYm/AMdo50lW0VYwicBYWjnQpr8txFC5VLZK2F7ejbEiy8EzaniWiLZmV4aI7cRQBnuGLUVcteHQnLmxORIAplhL8GmoNL9wrwYZ01RNqElG4JTHDW8WolsjCNYkFXKuGIsFeb9FAGjGiPZbA5LfHfdvLP1rFKMn0v/YH3SyKIXgTEY0AAAAASUVORK5CYII='\n\n###\n# Close indicator widget\n# @extends EventEmitter\n# @namespace widgets\n###\nclass CloseIndicator extends EventEmitter\n    constructor: ->\n        @_viewable = false\n\n        @_elem = document.createElement 'div'\n        @_elem.setAttribute 'style', 'border-bottom-left-radius: 5px; width: 50px; height: 50px; position: absolute; top: 0; right: 0; z-index: 2147483647; display: none; box-shadow: 0 0 4px 0 rgba(0, 0, 0, .5);'\n        @_elem.style.background = \"rgba(255, 255, 255, .5) url(#{CLOSE_IMAGE}) 50% 50% no-repeat\"\n\n        @_elem.addEventListener 'click', (e) => @emit 'click', e\n\n    ###\n    # Append to target DOM Node\n    # @param {Element} target DOM Node to append indicator to\n    ###\n    appendTo: (target) ->\n        @parent = target\n        target.appendChild @_elem\n\n    ###\n    # Show indicator\n    # @return {Boolean} indicator visibility\n    ###\n    show: ->\n        @_elem.style.display = 'block'\n        @_viewable = true\n\n    ###\n    # Hide indicator\n    # @return {Boolean} indicator visibility\n    ###\n    hide: ->\n        @_elem.style.display = 'none'\n        @_viewable = false\n\nmodule.exports = CloseIndicator\n",
    "EventEmitter = require('events').EventEmitter\nCloseIndicator = require './close-indicator.coffee'\n\nMRAID_VER = '2.0'\nSUPPORTS =\n    sms: false\n    tel: false\n    calendar: false\n    storePicture: false\n    inlineVideo: true\n    vpaid: true\n\nSTATES = ['loading', 'default', 'expanded', 'resized', 'hidden']\nPLACEMENTS = ['inline', 'interstitial']\n\n## # MRAID Controller # # Used as a bridge between SDK and ad unit. # @uses EventEmitter # @uses CloseIndicator\nclass MRAID ## # State of current ad container # # * *loading* - the container is not yet ready for interactions with the MRAID implementation # * *default* - the initial position and size of the ad container as placed by the application and SDK # * *expanded* - the ad container has expanded to cover the application content at the top of the view hierarchy # * *resized* - the ad container has changed size via MRAID 2.0’s resize() method # * *hidden* - the state an interstitial ad transitions to when closed. Where supported, the state a banner ad transitions to when closed # @type String\n    @_state: 'loading'\n\n    ##\n    # Placement type of current ad container.\n    #\n    # * *inline* - the default ad placement is inline with content in the display (i.e. a banner)\n    # * *interstitial* - the ad placement is over laid on top of content\n    # @type String\n    @_placementType: 'interstitial'\n\n    ##\n    # Whether the container on-screen and viewable by the user\n    # @type Boolean\n    @_viewable: false\n\n    ##\n    # The maximum size an ad can expand or resize to\n    # @type MRAIDSize\n    @_maxSize:\n        width: 0\n        height: 0\n\n    ##\n    # The position and size of the default ad view\n    # @type MRAIDPosition\n    @_defaultPosition:\n        x: 0\n        y: 0\n        width: 0\n        height: 0\n\n    ##\n    # The current position and size of the ad view\n    # @type MRAIDPosition\n    @_currentPosition:\n        x: 0\n        y: 0\n        width: 0\n        height: 0\n\n    ##\n    # The resize properties object is intended to provide additional features to ad designers\n    # @type MRAIDResizeProperties\n    @_resizeProperties:\n        width: 0\n        height: 0\n        offsetX: 0\n        offsetY: 0\n        customClosePosition: 'top-right'\n        allowOffscreen: true\n\n    ##\n    # The expand properties object is intended to provide additional features to ad designers\n    # @type MRAIDExpandProperties\n    @_expandProperties:\n        width: 0\n        height: 0\n        useCustomClose: false\n        isModal: true\n\n    ##\n    # The orientation properties object is intended to provide ad designers with additional control over expandable\n    # and interstitial ads\n    # @type MRAIDOrientationProperties\n    @_orientationProperties:\n        allowOrientationChange: true\n        forceOrientation: 'landscape'\n\n    ##\n    # Event emitter\n    # @type EventEmitter\n    # @private\n    @_emitter: new EventEmitter\n\n    # ==================================================================================================================\n    ##\n    # Get the MRAID spec version number\n    # @return {String} MRAID version number\n    @getVersion: -> MRAID_VER\n\n    ##\n    # Subscribe to specific event\n    # @param {String} event name of event to listen for\n    # @param {Function} listener function to execute\n    @addEventListener: (event, listener) ->\n        if not event?\n            @_emitError 'No event name to listen for provided', 'addEventListener'\n            return\n\n        if not listener?\n            @_emitError 'No listener for event provided', 'addEventListener'\n            return\n\n        @_emitter.addListener event, listener\n\n    ##\n    # Unsubscribe from specific event\n    #\n    # If no listener function is specified, then all functions listening to the event will be removed.\n    # @param {String} event name of event\n    # @param {Function} [listener] function to be removed\n    @removeEventListener: (event, listener) ->\n        if not event?\n            @_emitError 'No event name to unsubscribe from provided', 'removeEventListener'\n            return\n\n        if listener\n            @_emitter.removeListener event, listener\n        else\n            @_emitter.removeAllListeners event\n\n    # ==================================================================================================================\n    ##\n    # Get state of current ad container\n    # @return {String} ad container state (\"loading|default|expanded|resized|hidden\")\n    @getState: -> @_state\n\n    ##\n    # Set state of current ad container\n    # @param {String} state\n    @_setState: (state) ->\n        if state in STATES and state isnt @_state\n            @_state = state\n            @_emitter.emit 'stateChange', state\n\n    ##\n    # Get placement type of current ad container\n    #\n    # getPlacementType should always return the placement that it initially displayed in. That is, in the case of\n    # two-part expandables, the second, expanded part should also see “inline” if it does a getPlacementType.\n    # @return {String} ad container placement type (\"inline\", \"interstitial\")\n    @getPlacementType: -> @_placementType\n\n    ##\n    # Set placement type of current ad container\n    # @param {String} placement\n    @_setPlacementType: (placement) -> @_placementType = placement if placement in PLACEMENTS\n\n    ##\n    # Returns whether the ad container is currently on or off the screen\n    #\n    # For a two-piece expandable ad, when the ad state is expanded, isViewable will return an answer based on the\n    # viewability of the expanded piece of the ad. Note that MRAID does not define a minimum threshold percentage or\n    # number of pixels of the ad that must be onscreen to constitute \"viewable\".\n    # @return {Boolean} **true**: container is on-screen and viewable by the user; **false**: container is\n    # off-screen and not viewable\n    @isViewable: -> @_viewable\n\n    ##\n    # Set whether the ad container is currently on or off the screen\n    # @param {Boolean} viewable **true**: container is on-screen and viewable by the user; **false**: container is\n    # off-screen and not viewable\n    @_setViewable: (viewable) ->\n        viewable = !!viewable\n\n        if viewable isnt @_viewable\n            @_viewable = viewable\n            @_emitter.emit 'viewableChange', viewable\n\n    # ==================================================================================================================\n    ##\n    # Display an embedded browser window in the application that loads an external URL.\n    #\n    # On device platforms that do not allow an embedded browser, the open method invokes the native browser with\n    # the external URL.\n    # @param {String} URL the URL of the web page\n    @open: (URL = '') ->\n        if typeof URL is 'string' and URL\n            @_sendMessage 'open', URL, => @_emitter.emit 'viewableChange', false\n        else\n            @_emitError 'No or invalid URL passed in', 'open'\n\n    # ==================================================================================================================\n    ##\n    # Expand ad view\n    #\n    # The expand method will cause an existing web view (for one-part creatives) or a new web view (for two-part\n    # creatives) to open at the highest level (e.g., at a higher z-index value than any app content) in the view\n    # hierarchy.\n    # The expanded view can either contain a new HTML document if a URL is specified, or it can reuse the same\n    # document that was in the default position.\n    # @param {String} [URL] the URL for the document to be displayed in a new overlay view. By default, the body of the\n    # current ad will be used in the current webview\n    # @todo Make it work with URL passed in (now emits \"error\" event in this case)\n    @expand: (URL) ->\n        return if @_state is 'expanded'\n\n        if URL\n            @_emitError 'Not implemented. Connect with the developer of this piece of shit and say it to him', 'expand'\n        else\n            @_sendMessage 'state', 'expanded', =>\n                @_setCurrentPosition {\n                                         x: 0\n                                         y: 0\n                                         width: @_expandProperties.width\n                                         height: @_expandProperties.height\n                                     }\n                @_setState 'expanded'\n\n    ##\n    # Returns the expandProperties object\n    # @return {MRAIDExpandProperties} expand properties\n    @getExpandProperties: -> @_expandProperties\n\n    ##\n    # Set the ad's expand properties, including the maximum width and height of the ad creative, and whether the\n    # creative is supplying its own close indicator\n    # @param {MRAIDExpandProperties} properties expand properties\n    @setExpandProperties: (properties) ->\n        if @_state isnt 'expanded'\n            {width, height, useCustomClose} = properties\n\n            @_expandProperties.width = width if width?\n            @_expandProperties.height = height if height?\n            @_expandProperties.useCustomClose = useCustomClose if useCustomClose?\n\n    # ==================================================================================================================\n    ##\n    # Returns the orientationProperties object\n    # @return {MRAIDOrientationProperties}\n    @getOrientationProperties: -> @_orientationProperties\n\n    ##\n    # Set the orientationProperties object\n    # @param {MRAIDOrientationProperties} properties orientation properties\n    @setOrientationProperties: (properties) ->\n        {allowOrientationChange, forceOrientation} = properties\n\n        @_orientationProperties.allowOrientationChange = allowOrientationChange if allowOrientationChange?\n        @_orientationProperties.forceOrientation = forceOrientation if forceOrientation?\n\n\n    # ==================================================================================================================\n    ##\n    # The close method will cause the ad container to downgrade its state\n    #\n    # For ads in an expanded or resized state, the close() method moves the ad to a default state.\n    # For interstitial ads in a default state, the close() method moves to a hidden state. For banners in a default\n    # state, the effect of calling close() is deliberately left undefined by the MRAID specification.\n    @close: ->\n        switch @_state\n            when 'expanded', 'resized'\n                @_sendMessage 'state', 'default', => @_setState 'default'\n            when 'default'\n                if @_placementType is 'interstitial'\n                    @_sendMessage 'state', 'hidden', => @_setState 'hidden'\n            else\n                @_emitError 'Error occurred while trying to close container', 'close'\n\n    ##\n    # Signal the container to stop using the default close indicator\n    #\n    # This method serves as a convenience method to the expand property of the same name. Setting the property or\n    # calling this method both have the same effect and can be used interchangeably. If an ad sets useCustomClose\n    # via both expand properties AND this method, whichever is invoked later will override the earlier setting.\n    # @param {Boolean} use true – ad creative supplies its own design for the close indicator; false – container\n    # default image should be displayed for the close indicator\n    @useCustomClose: (use) ->\n        @_expandProperties.useCustomClose = use if use?\n        @_closeIndicator.hide() if use and @_closeIndicator?\n\n    # ==================================================================================================================\n    ##\n    # Will cause the existing web view to change size using the existing HTML document\n    # @todo Implement\n    @resize: -> @_emitError 'Not implemented. Connect with the developer of this piece of shit and say it to him', 'resize'\n\n    ##\n    # Returns the resizeProperties object\n    # @return {MRAIDResizeProperties} resize properties\n    @getResizeProperties: -> @_resizeProperties\n\n    ##\n    # Set resizeProperties object\n    #\n    # Use this method to set the ad's resize properties, in particular the width and height of the resized ad creative.\n    # @param {MRAIDResizeProperties} properties this object contains the width and height of the resized ad, close position,\n    # offset direction (all in density-independent pixels), and whether the ad can resize offscreen\n    @setResizeProperties: (properties) ->\n        {width, height, offsetX, offsetY, customClosePosition, allowOffscreen} = properties\n\n        @_resizeProperties.width = width if width?\n        @_resizeProperties.height = height if height?\n        @_resizeProperties.offsetX = offsetX if offsetX?\n        @_resizeProperties.offsetY = offsetY if offsetY?\n        @_resizeProperties.customClosePosition = customClosePosition if customClosePosition?\n        @_resizeProperties.allowOffscreen = allowOffscreen if allowOffscreen?\n\n    # ==================================================================================================================\n    ##\n    # Returns the current position and size of the ad view, measured in density-independent pixels\n    # @return {MRAIDPosition} current ad container position\n    @getCurrentPosition: -> @_currentPosition\n\n    ##\n    # Set the current position and size of the ad view, measured in density-independent pixels\n    # @param {MRAIDPosition} position current ad container position\n    @_setCurrentPosition: (position) ->\n        {x, y, width, height} = position\n\n        @_currentPosition.x = x if x?\n        @_currentPosition.y = y if y?\n        @_currentPosition.width = width if width?\n        @_currentPosition.height = height if height?\n\n        @_emitter.emit 'sizeChange', @_currentPosition.width, @_currentPosition.height if width? or height?\n\n    ##\n    # Returns the maximum size (in density-independent pixel width and height) an ad can expand or resize to\n    #\n    # If the app runs full-screen on the device (e.g., covers the status bar), the max size will be the full screen\n    # dimensions. If the app runs at less than full screen on the device, due to screen area reserved for a status\n    # bar or other elements outside the app, then the max size will return the size of the view that contains the\n    # app (which defines the maximum space the ad may resize within).\n    # @return {MRAIDSize} the maximum width and height the view can grow to\n    @getMaxSize: -> @_maxSize\n\n    ##\n    # Set the maximum size an ad can expand or resize to\n    # @param {MRAIDSize} size the maximum width and height the view can grow to\n    @_setMaxSize: (size) ->\n        {width, height} = size\n\n        @_maxSize.width = width if width?\n        @_maxSize.height = height if height?\n\n    ##\n    # Returns the position and size of the default ad view, measured in density-independent pixels, regardless of what\n    # state the calling view is in\n    # @return {MRAIDPosition} default ad container position\n    @getDefaultPosition: -> @_defaultPosition\n\n    ##\n    # Set the position and size of the default ad view\n    # @param {MRAIDPosition} position default ad container position\n    @_setDefaultPosition: (position) ->\n        {x, y, width, height} = position\n\n        @_defaultPosition.x = x if x?\n        @_defaultPosition.y = y if y?\n        @_defaultPosition.width = width if width?\n        @_defaultPosition.height = height if height?\n\n    ##\n    # Returns the current actual pixel width and height, based on the current orientation, in density-independent\n    # pixels, of the device on which the ad is running.\n    #\n    # Note that the ScreenSize will change if the device is turned from portrait to landscape mode (and vice\n    # versa). Note also that getScreenSize will return the TOTAL size of the device screen, including area (if any)\n    # reserved by the OS for status/system bars or other functions, which cannot be overridden by the app or the ad.\n    # @return {MRAIDSize}\n    @getScreenSize: ->\n        size =\n            width: window.screen.width\n            height: window.screen.height\n\n    # ==================================================================================================================\n    ##\n    # Returns support of specific device features\n    #\n    # * *sms* - the device supports using the sms: protocol to send an SMS message\n    # * *tel* - the device supports initiating calls using the tel: protocol\n    # * *calendar* - the device can create a calendar entry\n    # * *storePicture* - the device supports the MRAID storePicture method\n    #* *inlineVideo* - The device can playback HTML5 video files using the &lt;video&gt; tag and honors the size (width\n    # and height) specified in the video tag. This does not require the video to be played in full screen.\n    # @param {String} feature name of feature\n    # @return {Boolean} true, the feature is supported and getter and events are available; false, the\n    # feature is not supported on this device\n    @supports: (feature) ->\n        if feature of SUPPORTS\n            SUPPORTS[feature]\n        else\n            false\n\n    ##\n    # Open the device UI to create a new calendar event\n    #\n    # The ad is suspended while the UI is open. Where a device does not support such a \"create calendar event\"\n    # sheet, the SDK should treat that device as if it does not support adding calendar events. Calendar event data\n    # should be delivered in the form of a JavaScript object written to the W3C’s calendar specification.\n    # @param {Object} params the parameters for the calendar entry, written according to the W3C specification for\n    # calendar entries\n    # @todo Implement (now emits \"error\" event)\n    @createCalendarEvent: (params) -> @_emitError 'Not supported by SDK', 'createCalendarEvent'\n\n    ##\n    # Play a video on the device via the device’s native, external player\n    # @param {String} URI the URI of the video or video stream\n    # @todo Implement (now emits \"error\" event)\n    @playVideo: (URI) -> @_emitError 'Not supported by SDK', 'playVideo'\n\n    ##\n    # Place a picture in the device's photo album\n    #\n    # To ensure that the user is aware a picture is being added to the photo album, MRAID requires the SDK/container\n    # use an OS-level handler to display a modal dialog box asking that the user confirm or cancel the addition to\n    # the photo album for each image added. If the device does not have a native “add photo” confirmation handler,\n    # the SDK should treat the device as though it does not support storePicture. If the attempt to add the picture\n    # fails for any reason or is cancelled by the user, it will trigger an error.\n    # @param {String} URI the URI to the image or other media asset\n    # @todo Implement (now emits \"error\" event)\n    @storePicture: (URI) -> @_emitError 'Not supported by SDK', 'storePicture'\n\n\n    # ==================================================================================================================\n    ##\n    # Init VPAID protocol in container\n    # @param {Object} vpaidObject VPAID object\n    @initVpaid: (vpaidCreative) ->\n        if not @_checkVPAIDInterface vpaidCreative\n            console.log 'vpaid check failed', vpaidCreative\n            @_emitError 'Incorrect VPAID Creative Interface. VPAID will not be initialized', 'initVpaid'\n            return\n\n        onAdImpression = => @_sendMessage 'vpaidEvent', {name: 'adImpression'}\n        onStartAd = => @_sendMessage 'vpaidEvent', {name: 'startAd'}\n        onAdVideoStart = => @_sendMessage 'vpaidEvent', {name: 'adVideoStart'}\n        onAdVideoFirstQuartile = => @_sendMessage 'vpaidEvent', {name: 'adVideoFirstQuartile'}\n        onAdVideoMidpoint = => @_sendMessage 'vpaidEvent', {name: 'adVideoMidpoint'}\n        onAdVideoThirdQuartile = => @_sendMessage 'vpaidEvent', {name: 'adVideoThirdQuartile'}\n        onAdVideoComplete = => @_sendMessage 'vpaidEvent', {name: 'adVideoComplete'}\n        onAdClickThru = (url, id, playerHandles) => @_sendMessage 'vpaidEvent', {name: 'adClickThru', params: {url: url, id: id, playerHandles: playerHandles}}\n        onAdInteraction = (id) => @_sendMessage 'vpaidEvent', {name: 'adInteraction', params: id}\n        onAdDurationChange = =>\n            duration = vpaidCreative.getAdDuration()\n            remaining = vpaidCreative.getAdRemainingTime()\n            @_sendMessage 'vpaidEvent', {name: 'adDurationChange', params: {duration: duration, remaining: remaining}}\n        onAdUserAcceptInvitation = => @_sendMessage 'vpaidEvent', {name: 'adUserAcceptInvitation'}\n        onAdUserMinimize = => @_sendMessage 'vpaidEvent', {name: 'adUserMinimize'}\n        onAdUserClose = => @_sendMessage 'vpaidEvent', {name: 'adUserClose'}\n        onAdPaused = => @_sendMessage 'vpaidEvent', {name: 'adPaused'}\n        onAdPlaying = => @_sendMessage 'vpaidEvent', {name: 'adPlaying'}\n        onAdError = (message) => @_sendMessage 'vpaidEvent', {name: 'adError', params: message}\n        onAdLog = (id) => @_sendMessage 'vpaidEvent', {name: 'adLog', params: id}\n\n        callbacks =\n            AdImpression: onAdImpression\n            AdStarted: onStartAd\n            AdVideoStart: onAdVideoStart\n            AdVideoFirstQuartile: onAdVideoFirstQuartile\n            AdVideoMidpoint: onAdVideoMidpoint\n            AdVideoThirdQuartile: onAdVideoThirdQuartile\n            AdVideoComplete: onAdVideoComplete\n            AdClickThru: onAdClickThru\n            AdInteraction: onAdInteraction\n            AdDurationChange: onAdDurationChange\n            AdUserAcceptInvitation: onAdUserAcceptInvitation\n            AdUserMinimize: onAdUserMinimize\n            AdUserClose: onAdUserClose\n            AdPaused: onAdPaused\n            AdPlaying: onAdPlaying\n            AdError: onAdError\n            AdLog: onAdLog\n\n        vpaidCreative.subscribe callback, event for event, callback of callbacks\n\n        vpaidCreative.startAd()\n\n    ##\n    # Check VPAID Interface of the creative\n    # @param {Object} vpaidCreative VPAID Creative object\n    # @return {Boolean} whether the VPAID Creative implements all of the functions required by the MRAID+VPAID spec\n    @_checkVPAIDInterface: (vpaidCreative) ->\n        return true if vpaidCreative.subscribe and vpaidCreative.unsubscribe and vpaidCreative.getAdDuration and vpaidCreative.getAdRemainingTime and vpaidCreative.startAd\n        false\n\n    # ==================================================================================================================\n    ##\n    # Emit error event\n    # @param {String} message description of the type of error\n    # @param {String} [action=null] name of action that caused error\n    @_emitError: (message, action = null) -> @_emitter.emit 'error', message, action\n\n    # \"fake\" static constructor\n    do ->\n        MRAID._sendMessage = window.mraid._sendMessage\n\n        MRAID._setPlacementType window.mraid.placementType\n        MRAID._setDefaultPosition window.mraid.defaultPosition\n        MRAID._setCurrentPosition window.mraid.defaultPosition\n        MRAID._setMaxSize window.mraid.maxSize\n        MRAID.setExpandProperties window.mraid.maxSize\n\n        MRAID.addEventListener 'ready', window.mraid._MRAIDReadyListener if window.mraid._MRAIDReadyListener\n\n        MRAID._closeIndicator = new CloseIndicator\n        MRAID._closeIndicator.on 'click', -> MRAID.close()\n\n        timeout = (delay, func) -> setTimeout func, delay\n        timeout 1000, =>\n            MRAID._closeIndicator.appendTo window.document.body\n            MRAID._closeIndicator.show() if not MRAID._expandProperties.useCustomClose\n\n        document.addEventListener 'click', (e) ->\n            html = document.documentElement\n            body = document.body\n            target = e.target\n\n            while target isnt body and target isnt html\n                if target.nodeName.toLowerCase() is 'a'\n                    e.preventDefault()\n                    return\n                target = target.parentNode\n\n        window.mraid = MRAID\n        window.mraid._setState 'default'\n        window.mraid._emitter.emit 'ready'\n\nmodule.exports = MRAID\n"
  ]
}