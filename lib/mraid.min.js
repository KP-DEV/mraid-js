!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.mraid=e()}}(function(){return function e(t,n,i){function r(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var h=n[o]={exports:{}};t[o][0].call(h.exports,function(e){var n=t[o][1][e];return r(n?n:e)},h,h.exports,e,t,n,i)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function s(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function u(e){return void 0===e}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!s(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,n,i,s,a,d;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],u(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),d=n.slice(),i=d.length,a=0;i>a;a++)d[a].apply(this,s);return!0},i.prototype.addListener=function(e,t){var n;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(n=u(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,"function"==typeof console.trace)),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},i.prototype.removeListener=function(e,t){var n,i,s,u;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(u=s;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){i=u;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(e,t,n){var i,r,s,o=function(e,t){function n(){this.constructor=e}for(var i in t)u.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},u={}.hasOwnProperty;s=e("events").EventEmitter,i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABiElEQVRYR8WX7VHDMAyG304AG5QNaCegTMIIrMII3QS6AWzQEcoG3NuLco5jWR/OHf7ZNH4e27Kk7PDPY6fwzwCeAbwCuA06HgB8Ari25msJEP42Qb8HJQT+qM1XC5RwWXhWooY35ysFWvCshAZfzScCHwDejbP27oQFF8wXj1cEGCB7R7BZEl44UT8ADiLAF2n0MCARhZ94w8oYGJGIwH+58ulaor4FGYmn6Z7LVettIuFcOY/yPlp5ICpBgRRcE+DvEQlH2GC18t4OyLOtJFR4bwe2kujCPQIjx2HCvQIZCRc8KsCS6ol2zmtlzDlwtX6gjOxIkinfc0lYAlm4u4r2BEbhLglNYCu4KaGlYm/AMdo50lW0VYwicBYWjnQpr8txFC5VLZK2F7ejbEiy8EzaniWiLZmV4aI7cRQBnuGLUVcteHQnLmxORIAplhL8GmoNL9wrwYZ01RNqElG4JTHDW8WolsjCNYkFXKuGIsFeb9FAGjGiPZbA5LfHfdvLP1rFKMn0v/YH3SyKIXgTEY0AAAAASUVORK5CYII=",r=function(e){function t(){this._viewable=!1,this._elem=document.createElement("div"),this._elem.setAttribute("style","border-bottom-left-radius: 5px; width: 50px; height: 50px; position: absolute; top: 0; right: 0; z-index: 2147483647; display: none; box-shadow: 0 0 4px 0 rgba(0, 0, 0, .5);"),this._elem.style.background="rgba(255, 255, 255, .5) url("+i+") 50% 50% no-repeat",this._elem.addEventListener("click",function(e){return function(t){return e.emit("click",t)}}(this))}return o(t,e),t.prototype.appendTo=function(e){return this.parent=e,e.appendChild(this._elem)},t.prototype.show=function(){return this._elem.style.display="block",this._viewable=!0},t.prototype.hide=function(){return this._elem.style.display="none",this._viewable=!1},t}(s),t.exports=r},{events:1}],3:[function(e,t,n){var i,r,s,o,u,a,d,h=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};r=e("events").EventEmitter,i=e("./close-indicator.coffee"),o="2.0",d={sms:!1,tel:!1,calendar:!1,storePicture:!1,inlineVideo:!0,vpaid:!0},a=["loading","default","expanded","resized","hidden"],u=["inline","interstitial"],s=function(){function e(){}return e._state="loading",e._placementType="interstitial",e._viewable=!1,e._maxSize={width:0,height:0},e._defaultPosition={x:0,y:0,width:0,height:0},e._currentPosition={x:0,y:0,width:0,height:0},e._resizeProperties={width:0,height:0,offsetX:0,offsetY:0,customClosePosition:"top-right",allowOffscreen:!0},e._expandProperties={width:0,height:0,useCustomClose:!1,isModal:!0},e._orientationProperties={allowOrientationChange:!0,forceOrientation:"landscape"},e._emitter=new r,e.getVersion=function(){return o},e.addEventListener=function(e,t){return null==e?void this._emitError("No event name to listen for provided","addEventListener"):null==t?void this._emitError("No listener for event provided","addEventListener"):this._emitter.addListener(e,t)},e.removeEventListener=function(e,t){return null==e?void this._emitError("No event name to unsubscribe from provided","removeEventListener"):t?this._emitter.removeListener(e,t):this._emitter.removeAllListeners(e)},e.getState=function(){return this._state},e._setState=function(e){return h.call(a,e)>=0&&e!==this._state?(this._state=e,this._emitter.emit("stateChange",e)):void 0},e.getPlacementType=function(){return this._placementType},e._setPlacementType=function(e){return h.call(u,e)>=0?this._placementType=e:void 0},e.isViewable=function(){return this._viewable},e._setViewable=function(e){return e=!!e,e!==this._viewable?(this._viewable=e,this._emitter.emit("viewableChange",e)):void 0},e.open=function(e){return null==e&&(e=""),"string"==typeof e&&e?this._sendMessage("open",e,function(e){return function(){return e._emitter.emit("viewableChange",!1)}}(this)):this._emitError("No or invalid URL passed in","open")},e.expand=function(e){return"expanded"!==this._state?e?this._emitError("Not implemented. Connect with the developer of this piece of shit and say it to him","expand"):this._sendMessage("state","expanded",function(e){return function(){return e._setCurrentPosition({x:0,y:0,width:e._expandProperties.width,height:e._expandProperties.height}),e._setState("expanded")}}(this)):void 0},e.getExpandProperties=function(){return this._expandProperties},e.setExpandProperties=function(e){var t,n,i;return"expanded"!==this._state&&(i=e.width,t=e.height,n=e.useCustomClose,null!=i&&(this._expandProperties.width=i),null!=t&&(this._expandProperties.height=t),null!=n)?this._expandProperties.useCustomClose=n:void 0},e.getOrientationProperties=function(){return this._orientationProperties},e.setOrientationProperties=function(e){var t,n;return t=e.allowOrientationChange,n=e.forceOrientation,null!=t&&(this._orientationProperties.allowOrientationChange=t),null!=n?this._orientationProperties.forceOrientation=n:void 0},e.close=function(){switch(this._state){case"expanded":case"resized":return this._sendMessage("state","default",function(e){return function(){return e._setState("default")}}(this));case"default":if("interstitial"===this._placementType)return this._sendMessage("state","hidden",function(e){return function(){return e._setState("hidden")}}(this));break;default:return this._emitError("Error occurred while trying to close container","close")}},e.useCustomClose=function(e){return null!=e&&(this._expandProperties.useCustomClose=e),e&&null!=this._closeIndicator?this._closeIndicator.hide():void 0},e.resize=function(){return this._emitError("Not implemented. Connect with the developer of this piece of shit and say it to him","resize")},e.getResizeProperties=function(){return this._resizeProperties},e.setResizeProperties=function(e){var t,n,i,r,s,o;return o=e.width,i=e.height,r=e.offsetX,s=e.offsetY,n=e.customClosePosition,t=e.allowOffscreen,null!=o&&(this._resizeProperties.width=o),null!=i&&(this._resizeProperties.height=i),null!=r&&(this._resizeProperties.offsetX=r),null!=s&&(this._resizeProperties.offsetY=s),null!=n&&(this._resizeProperties.customClosePosition=n),null!=t?this._resizeProperties.allowOffscreen=t:void 0},e.getCurrentPosition=function(){return this._currentPosition},e._setCurrentPosition=function(e){var t,n,i,r;return i=e.x,r=e.y,n=e.width,t=e.height,null!=i&&(this._currentPosition.x=i),null!=r&&(this._currentPosition.y=r),null!=n&&(this._currentPosition.width=n),null!=t&&(this._currentPosition.height=t),null!=n||null!=t?this._emitter.emit("sizeChange",this._currentPosition.width,this._currentPosition.height):void 0},e.getMaxSize=function(){return this._maxSize},e._setMaxSize=function(e){var t,n;return n=e.width,t=e.height,null!=n&&(this._maxSize.width=n),null!=t?this._maxSize.height=t:void 0},e.getDefaultPosition=function(){return this._defaultPosition},e._setDefaultPosition=function(e){var t,n,i,r;return i=e.x,r=e.y,n=e.width,t=e.height,null!=i&&(this._defaultPosition.x=i),null!=r&&(this._defaultPosition.y=r),null!=n&&(this._defaultPosition.width=n),null!=t?this._defaultPosition.height=t:void 0},e.getScreenSize=function(){var e;return e={width:window.screen.width,height:window.screen.height}},e.supports=function(e){return e in d?d[e]:!1},e.createCalendarEvent=function(e){return this._emitError("Not supported by SDK","createCalendarEvent")},e.playVideo=function(e){return this._emitError("Not supported by SDK","playVideo")},e.storePicture=function(e){return this._emitError("Not supported by SDK","storePicture")},e.initVpaid=function(e){var t,n,i,r,s,o,u,a,d,h,l,c,f,p,v,_,m,g,w,y;if(!this._checkVPAIDInterface(e))return void this._emitError("Incorrect VPAID Creative Interface. VPAID will not be initialized","initVpaid");u=function(e){return function(){return e._sendMessage("vpaidEvent",{name:"adImpression"})}}(this),y=function(e){return function(){return e._sendMessage("vpaidEvent",{name:"startAd"})}}(this),g=function(e){return function(){return e._sendMessage("vpaidEvent",{name:"adVideoStart"})}}(this),_=function(e){return function(){return e._sendMessage("vpaidEvent",{name:"adVideoFirstQuartile"})}}(this),m=function(e){return function(){return e._sendMessage("vpaidEvent",{name:"adVideoMidpoint"})}}(this),w=function(e){return function(){return e._sendMessage("vpaidEvent",{name:"adVideoThirdQuartile"})}}(this),v=function(e){return function(){return e._sendMessage("vpaidEvent",{name:"adVideoComplete"})}}(this),r=function(e){return function(t,n,i){return e._sendMessage("vpaidEvent",{name:"adClickThru",params:{url:t,id:n,playerHandles:i}})}}(this),a=function(e){return function(t){return e._sendMessage("vpaidEvent",{name:"adInteraction",params:t})}}(this),s=function(t){return function(){var n,i;return n=e.getAdDuration(),i=e.getAdRemainingTime(),t._sendMessage("vpaidEvent",{name:"adDurationChange",params:{duration:n,remaining:i}})}}(this),c=function(e){return function(){return e._sendMessage("vpaidEvent",{name:"adUserAcceptInvitation"})}}(this),p=function(e){return function(){return e._sendMessage("vpaidEvent",{name:"adUserMinimize"})}}(this),f=function(e){return function(){return e._sendMessage("vpaidEvent",{name:"adUserClose"})}}(this),h=function(e){return function(){return e._sendMessage("vpaidEvent",{name:"adPaused"})}}(this),l=function(e){return function(){return e._sendMessage("vpaidEvent",{name:"adPlaying"})}}(this),o=function(e){return function(t){return e._sendMessage("vpaidEvent",{name:"adError",params:t})}}(this),d=function(e){return function(t){return e._sendMessage("vpaidEvent",{name:"adLog",params:t})}}(this),n={AdImpression:u,AdStarted:y,AdVideoStart:g,AdVideoFirstQuartile:_,AdVideoMidpoint:m,AdVideoThirdQuartile:w,AdVideoComplete:v,AdClickThru:r,AdInteraction:a,AdDurationChange:s,AdUserAcceptInvitation:c,AdUserMinimize:p,AdUserClose:f,AdPaused:h,AdPlaying:l,AdError:o,AdLog:d};for(i in n)t=n[i],e.subscribe(t,i);return e.startAd()},e._checkVPAIDInterface=function(e){return e.subscribe&&e.unsubscribe&&e.getAdDuration&&e.getAdRemainingTime&&e.startAd?!0:!1},e._emitError=function(e,t){return null==t&&(t=null),this._emitter.emit("error",e,t)},function(){var t;return e._sendMessage=window.mraid._sendMessage,e._setPlacementType(window.mraid.placementType),e._setDefaultPosition(window.mraid.defaultPosition),e._setCurrentPosition(window.mraid.defaultPosition),e._setMaxSize(window.mraid.maxSize),e.setExpandProperties(window.mraid.maxSize),window.mraid._MRAIDReadyListener&&e.addEventListener("ready",window.mraid._MRAIDReadyListener),e._closeIndicator=new i,e._closeIndicator.on("click",function(){return e.close()}),t=function(e,t){return setTimeout(t,e)},t(1e3,function(t){return function(){return e._closeIndicator.appendTo(window.document.body),e._expandProperties.useCustomClose?void 0:e._closeIndicator.show()}}(this)),document.addEventListener("click",function(e){var t,n,i;for(n=document.documentElement,t=document.body,i=e.target;i!==t&&i!==n;){if("a"===i.nodeName.toLowerCase())return void e.preventDefault();i=i.parentNode}}),window.mraid=e,window.mraid._setState("default"),window.mraid._emitter.emit("ready")}(),e}(),t.exports=s},{"./close-indicator.coffee":2,events:1}]},{},[3])(3)});
